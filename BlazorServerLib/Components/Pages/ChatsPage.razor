@page "/telegram-bot"
@using BlazorWebLib.Components.Telegram
@using MudBlazor

@rendermode @(new InteractiveServerRenderMode(prerender: false))
@attribute [Authorize(Roles = $"{GlobalStaticConstants.Roles.HelpDeskTelegramBotChatsManage},{GlobalStaticConstants.Roles.Admin}")]

<MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
    <MudTabPanel Text="Чаты">
        <TelegramChatsTableComponent />
    </MudTabPanel>
    <MudTabPanel Text="Сообщения">
        <MessagesTelegramComponent ChatId="0" ShowDestinationChat="true" />
    </MudTabPanel>
    <MudTabPanel Text="Состояние">
        <ErrorMessageTelegramBotComponent />
        <p class="form-text">
            Ошибки отправки сообщений ботом регистрируются. Если клиент удалит/заблокирует бота, тогда его попытки отправить сообщение будут завершаться ошибкой.
        </p>
    </MudTabPanel>
</MudTabs>